<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù‡Ø¯ÙŠØ© â€” Ù…ÙˆÙ‚Ø¹ ÙØ®Ù…</title>
  <style>
    :root{
      --bg:#f6fbf8; --card:#ffffff; --ink:#1f2937; --muted:#6b7280; --brand:#10b981; --brand-2:#059669; --ring:#a7f3d0;
      --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;color:var(--ink);background:linear-gradient(#ecfdf5, var(--bg));font-family:"Tajawal","Segoe UI",system-ui,-apple-system,sans-serif}
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.7);backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid #e5e7eb}
    .container{max-width:1100px;margin:0 auto;padding:16px}
    .row{display:flex;gap:12px;align-items:center}
    .logo{width:52px;height:52px;border:1px solid #e5e7eb;border-radius:14px;background:#fff;display:grid;place-items:center;overflow:hidden}
    .logo img{width:100%;height:100%;object-fit:cover}
    h1{font-size:22px;margin:0 0 4px}
    .muted{color:var(--muted);font-size:14px}
    .badge{border:1px solid #e5e7eb;border-radius:999px;padding:6px 12px;font-size:12px;background:#fff}
    .btn{appearance:none;border:none;border-radius:12px;background:var(--brand);color:#fff;padding:10px 14px;font-weight:600;cursor:pointer;box-shadow:var(--shadow)}
    .btn.secondary{background:#fff;color:var(--ink);border:1px solid #e5e7eb}
    .btn.icon{padding:10px}

    /* hero */
    .grid{display:grid;gap:16px}
    @media(min-width:900px){.grid.hero{grid-template-columns:2fr 1fr}}
    .card{background:var(--card);border:1px solid #e5e7eb;border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .head{padding:16px 18px;border-bottom:1px solid #f0f2f4;font-weight:700}
    .card .body{padding:18px}
    .chips{display:flex;flex-wrap:wrap;gap:8px}
    .chip{background:#eefcf6;border:1px solid #d1fae5;border-radius:12px;padding:6px 10px;font-size:12px}

    /* tabs */
    .tabs{margin-top:8px}
    .tablist{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
    .tablist button{padding:12px;border-radius:12px;border:1px solid #d1d5db;background:#fff;font-weight:600}
    .tablist button.active{background:var(--brand);color:#fff;border-color:transparent}
    .tab{display:none;margin-top:16px}
    .tab.active{display:block}

    /* table */
    table{width:100%;border-collapse:collapse;font-size:14px}
    thead th{background:#ecfdf5;text-align:right}
    th,td{padding:12px;border-bottom:1px solid #eef2f7}
    tr:hover{background:#fafafa}

    .gridCards{display:grid;gap:14px}
    @media(min-width:700px){.gridCards{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1000px){.gridCards{grid-template-columns:repeat(3,1fr)}}

    .teacher{border-radius:14px;border:1px solid #eef2f7;background:#fff;padding:14px}
    .teacher .top{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
    .dept{background:#f3f4f6;border:1px solid #e5e7eb;border-radius:999px;padding:4px 10px;font-size:12px}

    .inputs{display:grid;gap:10px}
    @media(min-width:700px){.inputs{grid-template-columns:2fr 1fr}}
    input,select,textarea{width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:12px;background:#fff}

    /* gallery */
    .gallery{display:grid;gap:12px}
    @media(min-width:700px){.gallery{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1000px){.gallery{grid-template-columns:repeat(3,1fr)}}
    .gallery img{width:100%;height:220px;object-fit:cover;border-radius:14px;border:1px solid #eef2f7}

    /* contact */
    footer{border-top:1px solid #e5e7eb;background:#fff;margin-top:24px}
    .foot{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between}

    /* print */
    @media print{
      header,.tablist,.heroOnly{display:none!important}
      .card, .teacher, .badge, .dept{box-shadow:none!important}
      body{background:#fff}
    }
  </style>
</head>
<body>
  <header>
    <div class="container row">
      <div class="logo" id="logoBox" title="ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ù‡Ù†Ø§">
        <!-- ÙŠÙØ¶Ù‘Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø¨Ø¥Ø°Ù† Ø±Ø³Ù…ÙŠ. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… Ù‚Ø¯ ÙŠØªØ·Ù„Ø¨ Ù…ÙˆØ§ÙÙ‚Ø©. -->
        <span style="font-weight:700;color:var(--brand)">ğŸ“</span>
      </div>
      <div style="flex:1">
        <h1 id="schoolName">Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù‡Ø¯ÙŠØ© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ©</h1>
        <div class="muted" id="motto">Ù†ØºØ±Ø³ Ø§Ù„Ù‚ÙŠÙ…â€¦ ÙˆÙ†ØµÙ†Ø¹ Ø§Ù„Ø£Ù…Ù„</div>
      </div>
      <span class="badge" id="donor">Ù…Ù‚Ø¯Ù…Ø© Ù…Ù†: Ø±Ø­Ø§Ø¨</span>
      <button class="btn icon" title="Ø·Ø¨Ø§Ø¹Ø©" onclick="window.print()">ğŸ–¨ï¸</button>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="grid hero">
      <div class="card">
        <div class="head">Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</div>
        <div class="body">
          <p>Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù‡Ø¯ÙŠØ© Ù…Ø­Ø¨Ø© Ù„Ù…Ø¯Ø±Ø³ØªÙ†Ø§. ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§ØªØŒ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§ØªØŒ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±ØŒ Ø§Ù„ØµÙˆØ±ØŒ ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯ ÙˆØ¨Ù…Ø¸Ù‡Ø± Ø£Ù†ÙŠÙ‚.</p>
          <div class="chips" style="margin-top:10px">
            <span class="chip">Ø³Ø¬Ù„Ø§Øª</span>
            <span class="chip">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª</span>
            <span class="chip">Ø£Ø®Ø¨Ø§Ø± ÙˆØ¥Ø¹Ù„Ø§Ù†Ø§Øª</span>
            <span class="chip">Ù…Ø¹Ø±Ø¶ ØµÙˆØ±</span>
          </div>
        </div>
      </div>

      <div class="card heroOnly">
        <div class="head">ØªØ®ØµÙŠØµ Ø³Ø±ÙŠØ¹</div>
        <div class="body">
          <div class="inputs" style="grid-template-columns:1fr">
            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<input id="inpSchool" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©"/></label>
            <label>Ø§Ù„Ø´Ø¹Ø§Ø±/Ø§Ù„Ø¹Ø¨Ø§Ø±Ø©<input id="inpMotto" placeholder="Ø§Ù„Ø´Ø¹Ø§Ø±"/></label>
            <label>Ø³Ø·Ø± Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡<input id="inpDonor" placeholder="Ù…Ø«Ø§Ù„: Ù…Ù‚Ø¯Ù…Ø© Ù…Ù†: Ø±Ø­Ø§Ø¨"/></label>
            <label>Ø±Ø§Ø¨Ø· Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
              <input id="inpLogo" placeholder="https://example.com/logo.png"/>
            </label>
            <button class="btn" id="apply">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
            <p class="muted" style="line-height:1.8">ØªÙ†Ø¨ÙŠÙ‡: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø±Ø³Ù…ÙŠ Ù‚Ø¯ ÙŠØªØ·Ù„Ø¨ Ø¥Ø°Ù†Ù‹Ø§ Ø±Ø³Ù…ÙŠÙ‹Ø§. ÙŠÙÙØ¶Ù‘Ù„ Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- TABS -->
    <section class="tabs">
      <div class="tablist">
        <button class="active" data-tab="t1">Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª</button>
        <button data-tab="t2">Ø§Ù„Ø³Ø¬Ù„Ø§Øª</button>
        <button data-tab="t3">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>
        <button data-tab="t4">Ø§Ù„Ù…Ø¹Ø±Ø¶</button>
      </div>

      <!-- Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª -->
      <div id="t1" class="tab active">
        <div class="card">
          <div class="head">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª</div>
          <div class="body">
            <div class="inputs">
              <div style="position:relative">
                <input id="q" placeholder="Ø§Ø¨Ø­Ø«ÙŠ Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ù…Ø§Ø¯Ø© Ø£Ùˆ Ø§Ù„Ù‚Ø³Ù…" />
              </div>
              <select id="dept">
                <option value="">ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ù… (Ø§Ù„ÙƒÙ„)</option>
              </select>
            </div>
            <div class="gridCards" id="teachers" style="margin-top:12px"></div>
          </div>
        </div>
      </div>

      <!-- Ø§Ù„Ø³Ø¬Ù„Ø§Øª -->
      <div id="t2" class="tab">
        <div class="card">
          <div class="head">Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©</div>
          <div class="body">
            <div style="overflow:auto">
              <table id="recordsTable">
                <thead>
                  <tr><th>#</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø¬Ù‡Ø©/Ø§Ù„ØµÙ</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th></tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div class="inputs" style="grid-template-columns:repeat(5,1fr);margin-top:12px">
              <input id="rType" placeholder="Ø§Ù„Ù†ÙˆØ¹" />
              <input id="rOwner" placeholder="Ø§Ù„Ø¬Ù‡Ø©/Ø§Ù„ØµÙ" />
              <input id="rDate" type="date" />
              <input id="rNote" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø©" />
              <button class="btn" id="addRecord">Ø¥Ø¶Ø§ÙØ© Ø³Ø¬Ù„</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Ø§Ù„Ø£Ø®Ø¨Ø§Ø± -->
      <div id="t3" class="tab">
        <div class="grid">
          <div id="newsWrap" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px"></div>
          <div class="card">
            <div class="head">Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</div>
            <div class="body inputs" style="grid-template-columns:repeat(4,1fr)">
              <input id="nTitle" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" />
              <input id="nDate" type="date" />
              <textarea id="nBody" placeholder="Ù†Øµ Ø§Ù„Ø®Ø¨Ø±" style="grid-column:span 2"></textarea>
              <button class="btn" id="addNews" style="grid-column:span 4">Ù†Ø´Ø± Ø§Ù„Ø®Ø¨Ø±</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Ø§Ù„Ù…Ø¹Ø±Ø¶ -->
      <div id="t4" class="tab">
        <div class="gallery" id="gallery"></div>
      </div>
    </section>

    <!-- ØªÙˆØ§ØµÙ„ -->
    <section class="card" style="margin-top:18px">
      <div class="head">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</div>
      <div class="body">
        <div class="inputs" style="grid-template-columns:repeat(2,1fr)">
          <input placeholder="Ø§Ù„Ø§Ø³Ù…" />
          <input placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯" />
          <textarea placeholder="Ø§Ù„Ø±Ø³Ø§Ù„Ø©" style="grid-column:span 2"></textarea>
          <button class="btn" style="grid-column:span 2">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
        <p class="muted" style="margin-top:8px">Ø§Ù„Ù‡Ø§ØªÙ: 064-000-000 â€” Ø§Ù„Ø¨Ø±ÙŠØ¯: info@school.edu â€” Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: Ø¹Ù…Ù‘Ø§Ù†ØŒ Ø§Ù„Ø£Ø±Ø¯Ù†</p>
      </div>
    </section>
  </main>

  <footer>
    <div class="container foot">
      <p>Â© <span id="year"></span> â€” <span id="schoolNameFoot">Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù‡Ø¯ÙŠØ© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ©</span>. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
      <p id="donorFoot">Ù…Ù‚Ø¯Ù…Ø© Ù…Ù†: Ø±Ø­Ø§Ø¨</p>
    </div>
  </footer>

  <script>
    // â€”â€”â€” Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø¯Ø¦ÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ â€”â€”â€”
    const state = {
      schoolName: 'Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù‡Ø¯ÙŠØ© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ©',
      motto: 'Ù†ØºØ±Ø³ Ø§Ù„Ù‚ÙŠÙ…â€¦ ÙˆÙ†ØµÙ†Ø¹ Ø§Ù„Ø£Ù…Ù„',
      donor: 'Ù…Ù‚Ø¯Ù…Ø© Ù…Ù†: Ø±Ø­Ø§Ø¨',
      logoUrl: '',
      teachers: [
        { id: 1, name: 'Ù…ÙŠØ³ Ù†ÙˆØ±', subject: 'Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©', phone: '0790-000-001', email: 'noor@school.edu', dept: 'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' },
        { id: 2, name: 'Ù…ÙŠØ³ Ù‡Ø¨Ø©', subject: 'Ù„ØºØ© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©', phone: '0790-000-002', email: 'hiba@school.edu', dept: 'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©' },
        { id: 3, name: 'Ù…ÙŠØ³ Ø¨ØªÙˆÙ„', subject: 'ØªØ±Ø¨ÙŠØ© Ø¥Ø³Ù„Ø§Ù…ÙŠØ©', phone: '0790-000-003', email: 'batool@school.edu', dept: 'Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©' },
        { id: 4, name: 'Ù…ÙŠØ³ Ø´Ù‡Ø¯', subject: 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£Ø±Ø¯Ù†', phone: '0790-000-004', email: 'shahd@school.edu', dept: 'Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©' },
        { id: 5, name: 'Ù…ÙŠØ³ Ù…Ù„Ø§Ùƒ', subject: 'Ø¹Ù„ÙˆÙ…', phone: '0790-000-005', email: 'malak@school.edu', dept: 'Ø§Ù„Ø¹Ù„ÙˆÙ…' },
        { id: 6, name: 'Ù…ÙŠØ³ ÙƒØ±ÙŠÙ…Ø©', subject: 'Ø±ÙŠØ§Ø¶ÙŠØ§Øª', phone: '0790-000-006', email: 'karima@school.edu', dept: 'Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª' },
      ],
      records: [
        { id: 101, type: 'Ø³Ø¬Ù„ Ø­Ø¶ÙˆØ±', owner: 'Ø§Ù„ØµÙ 10/Ø£', date: '2025-08-20', note: 'Ø§ÙƒØªÙ…Ù„' },
        { id: 102, type: 'Ø³Ø¬Ù„ Ø¹Ù„Ø§Ù…Ø§Øª', owner: 'Ø§Ù„ØµÙ 11/Ø¨', date: '2025-08-18', note: 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©' },
        { id: 103, type: 'Ø®Ø·Ø© Ø´Ù‡Ø±ÙŠØ©', owner: 'Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª', date: '2025-08-15', note: 'Ù…Ù†Ø´ÙˆØ±Ø©' },
      ],
      news: [
        { id: 1, title: 'Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯', date: '2025-09-01', body: 'Ù†Ø±Ø­Ù‘Ø¨ Ø¨Ø·Ù„Ø§Ø¨Ù†Ø§ Ø§Ù„Ø£Ø¹Ø²Ø§Ø¡ ÙˆÙ†ØªÙ…Ù†Ù‰ Ø¹Ø§Ù…Ù‹Ø§ Ù…Ù„ÙŠØ¦Ù‹Ø§ Ø¨Ø§Ù„Ù†Ø¬Ø§Ø­.' },
        { id: 2, title: 'ØªÙƒØ±ÙŠÙ… Ø£ÙˆØ§Ø¦Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©', date: '2025-08-10', body: 'Ø­ÙÙ„ Ø¨Ø³ÙŠØ· Ù„ØªÙƒØ±ÙŠÙ… Ø§Ù„Ù…ØªÙÙˆÙ‘Ù‚ÙŠÙ†.' },
      ],
      gallery: [
        { id: 1, src: 'https://images.unsplash.com/photo-1517520287167-4bbf64a00d66?q=80&w=1200&auto=format&fit=crop', alt: 'ØµÙ Ø¯Ø±Ø§Ø³ÙŠ' },
        { id: 2, src: 'https://images.unsplash.com/photo-1509062522246-3755977927d7?q=80&w=1200&auto=format&fit=crop', alt: 'Ù…ÙƒØªØ¨Ø©' },
        { id: 3, src: 'https://images.unsplash.com/photo-1607619056574-7b8d3ee536b2?q=80&w=1200&auto=format&fit=crop', alt: 'Ù…Ø®ØªØ¨Ø± Ø¹Ù„ÙˆÙ…' },
      ]
    };

    // â€”â€”â€” Ø£Ø¯ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø© â€”â€”â€”
    const $ = sel => document.querySelector(sel);
    const el = (tag, props={}) => Object.assign(document.createElement(tag), props);

    // ØªØ¨ÙˆÙŠØ¨
    document.querySelectorAll('.tablist button').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.tablist button').forEach(b=>b.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      })
    })

    // ØªØ¹Ø¨Ø¦Ø© Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø©
    function renderHeader(){
      $('#schoolName').textContent = state.schoolName;
      $('#schoolNameFoot').textContent = state.schoolName;
      $('#motto').textContent = state.motto;
      $('#donor').textContent = state.donor;
      $('#donorFoot').textContent = state.donor;
      if(state.logoUrl){
        const img = el('img',{src:state.logoUrl, alt:'Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©'});
        const box = $('#logoBox');
        box.innerHTML=''; box.appendChild(img);
      }
      $('#year').textContent = new Date().getFullYear();
    }

    // Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª + Ø§Ù„ØªØµÙÙŠØ©
    function renderTeachers(){
      const wrap = $('#teachers');
      wrap.innerHTML = '';
      const q = $('#q').value.trim();
      const dept = $('#dept').value;
      const list = state.teachers.filter(t=>{
        const m = !dept || t.dept===dept;
        const k = !q || [t.name,t.subject,t.dept].some(x=>x.includes(q));
        return m && k;
      });
      list.forEach(t=>{
        const card = el('div',{className:'teacher'});
        const top = el('div',{className:'top'});
        top.append(el('div',{innerHTML:`<strong>${t.name}</strong>`}));
        const bad = el('span',{className:'dept',textContent:t.dept});
        top.append(bad);
        card.append(top);
        card.append(el('div',{className:'muted',textContent:`Ø§Ù„Ù…Ø§Ø¯Ø©: ${t.subject}`}));
        card.append(el('div',{className:'muted',textContent:`Ø§Ù„Ù‡Ø§ØªÙ: ${t.phone}`}));
        card.append(el('div',{className:'muted',textContent:`Ø§Ù„Ø¨Ø±ÙŠØ¯: ${t.email}`}));
        wrap.append(card);
      })
    }

    function populateDept(){
      const unique = [...new Set(state.teachers.map(t=>t.dept))];
      const sel = $('#dept');
      unique.forEach(d=>{
        const opt = el('option',{value:d, textContent:d});
        sel.append(opt);
      })
    }

    // Ø§Ù„Ø³Ø¬Ù„Ø§Øª
    function renderRecords(){
      const tbody = $('#recordsTable tbody');
      tbody.innerHTML = '';
      state.records.forEach(r=>{
        const tr = el('tr');
        tr.innerHTML = `<td>${r.id}</td><td>${r.type}</td><td>${r.owner}</td><td>${r.date}</td><td>${r.note}</td>`;
        tbody.append(tr);
      })
    }

    // Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
    function renderNews(){
      const box = $('#newsWrap');
      box.innerHTML='';
      state.news.forEach(n=>{
        const card = el('div',{className:'card'});
        card.append(el('div',{className:'head',innerHTML:`${n.title} <span class="badge" style="float:left">${n.date}</span>`}));
        const body = el('div',{className:'body'});
        body.append(el('p',{textContent:n.body}));
        card.append(body);
        box.append(card);
      })
    }

    // Ø§Ù„Ù…Ø¹Ø±Ø¶
    function renderGallery(){
      const box = $('#gallery');
      box.innerHTML='';
      state.gallery.forEach(g=>{
        const img = el('img',{src:g.src, alt:g.alt});
        box.append(img);
      })
    }

    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ®ØµÙŠØµ
    $('#apply').addEventListener('click',()=>{
      const s = $('#inpSchool').value.trim();
      const m = $('#inpMotto').value.trim();
      const d = $('#inpDonor').value.trim();
      const l = $('#inpLogo').value.trim();
      if(s) state.schoolName = s;
      if(m) state.motto = m;
      if(d) state.donor = d;
      if(l) state.logoUrl = l;
      renderHeader();
    });

    // Ø¨Ø­Ø«/ØªØµÙÙŠØ© Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª
    $('#q').addEventListener('input', renderTeachers);
    $('#dept').addEventListener('change', renderTeachers);

    // Ø¥Ø¶Ø§ÙØ© Ø³Ø¬Ù„
    $('#addRecord').addEventListener('click',()=>{
      const type = $('#rType').value.trim() || 'â€”';
      const owner = $('#rOwner').value.trim() || 'â€”';
      const date = $('#rDate').value || new Date().toISOString().slice(0,10);
      const note = $('#rNote').value.trim() || 'â€”';
      const nextId = (Math.max(...state.records.map(r=>r.id))||100)+1;
      state.records.unshift({id:nextId,type,owner,date,note});
      renderRecords();
      ['#rType','#rOwner','#rDate','#rNote'].forEach(s=>$(s).value='');
    });

    // Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±
    $('#addNews').addEventListener('click',()=>{
      const title = $('#nTitle').value.trim() || 'â€”';
      const date = $('#nDate').value || new Date().toISOString().slice(0,10);
      const body = $('#nBody').value.trim() || 'â€”';
      const id = (Math.max(...state.news.map(n=>n.id))||0)+1;
      state.news.unshift({id,title,date,body});
      renderNews();
      ['#nTitle','#nDate','#nBody'].forEach(s=>$(s).value='');
    });

    // ØªÙ‡ÙŠØ¦Ø© Ø£ÙˆÙ„ÙŠØ©
    populateDept();
    renderHeader();
    renderTeachers();
    renderRecords();
    renderNews();
    renderGallery();
  </script>
</body>
</html>
